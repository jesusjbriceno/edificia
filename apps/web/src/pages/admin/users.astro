---
import DashboardLayout from '@/layouts/DashboardLayout.astro';
import { AuthGuard } from '@/components/auth/AuthGuard';
import UserTable from '@/components/UserTable';
import { Button } from '@/components/ui/Button';
import { UserPlus } from 'lucide-react';

const users = [
	{ id: "1", name: "Jesús Briceño", email: "jesus@edificia.es", role: "SuperAdmin", status: "Active", lastAccess: "Hoy, 14:20" },
	{ id: "2", name: "Javier López", email: "javier@edificia.es", role: "Architect", status: "Active", lastAccess: "Ayer, 09:15" },
	{ id: "3", name: "Ana Martínez", email: "ana@colaborador.es", role: "Collaborator", status: "Active", lastAccess: "Hace 2 días" },
	{ id: "4", name: "Roberto García", email: "roberto@edificia.es", role: "Supervisor", status: "Inactive", lastAccess: "Hace 1 semana" },
] as const;
---

<DashboardLayout title="Admin — Usuarios">
	<AuthGuard allowedRoles={['Root', 'Admin']} client:load>
		<div class="max-w-7xl mx-auto space-y-8">
			<div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
				<div>
					<h1 class="text-2xl md:text-3xl font-bold text-white tracking-tight">Gestión de Usuarios</h1>
					<p class="text-gray-400 mt-1 text-sm md:text-base">Administra los accesos y roles de los arquitectos y colaboradores.</p>
				</div>
				<Button className="h-12 bg-white text-dark-bg hover:bg-gray-100 border-none w-full sm:w-auto">
					<UserPlus className="w-5 h-5 mr-2" />
					Añadir Usuario
				</Button>
			</div>

			<UserTable users={users as any} client:load />
		</div>
	</AuthGuard>
</DashboardLayout>
