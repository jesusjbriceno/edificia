# ============================================================
# EdificIA — Variables de Entorno (Producción)
# Copia este archivo a .env y rellena los valores reales.
# NUNCA commitear el archivo .env al repositorio.
#
# Program.cs mapea estas variables automáticamente a la
# configuración de .NET (ConnectionStrings, Jwt, AI, etc.).
# También puedes definirlas directamente en la UI de Coolify.
# ============================================================

# ── Base de Datos ──
# Tres formas de configurar la conexión (se evalúan en este orden):
#
# 1. Cadena completa .NET (si ya la tienes):
#    ConnectionStrings__DefaultConnection=Host=...;Port=...;Database=...;Username=...;Password=...
#
# 2. URI estándar (la que proporcionan Hostinger, Railway, Supabase, etc.):
#    DATABASE_URL=postgres://usuario:contraseña@host:5432/base_datos
#
# 3. Variables individuales (se ensamblan automáticamente):
DB_HOST=db
DB_PORT=5432
DB_NAME=edificia_db
DB_USER=edificia
DB_PASSWORD=CHANGE_ME_strong_password_here

# ── Redis ──
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_redis_password

# ── JWT ──
# Mínimo 32 caracteres aleatorios. Generar con:
#   openssl rand -base64 64
JWT_SECRET=REPLACE_WITH_A_SECURE_SECRET_KEY_OF_AT_LEAST_32_CHARS

# ── IA (n8n Webhook) ──
N8N_WEBHOOK_URL=https://n8n.tu-dominio.com/webhook/generar-memoria
N8N_API_SECRET=CHANGE_ME_shared_secret
N8N_TIMEOUT=120

# Flux Gateway (n8n credentials)
# If you use the Flux Gateway workflow, set the application credentials here
# These are used by the n8n HTTP Request nodes to authenticate against Flux:
FLUX_CLIENT_ID=CHANGE_ME_flux_client_id
FLUX_CLIENT_SECRET=CHANGE_ME_flux_client_secret

# ── Email ──
# Provider: "Smtp" o "Brevo"
EMAIL_PROVIDER=Brevo
BREVO_API_KEY=CHANGE_ME_brevo_api_key
# SMTP (fallback — solo si EMAIL_PROVIDER=Smtp)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_SSL=true

# ── Root Admin (Seed inicial) ──
ROOT_EMAIL=admin@edificia.dev
ROOT_PASSWORD=CHANGE_ME_initial_root_password
